<!DOCTYPE html>
<html lang="fi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap-4.6.2-dist/css/bootstrap.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"> <!--Poppins ja Open Sans Fontit-->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <title>Kirjahaku ‚Äì Tarintatupa</title>
</head>

<body lang="fi">
    <header>
        <nav class="navbar">
            <div class="dropdown">
                <button class="genre-button btn dropdown" data-toggle="dropdown">Genret</button>
                <div class="dropdown-menu poppins genre-dropdown">
                    <a class="dropdown-item" href="fantasiakirjat.html">Fantasiakirjat</a>
                    <a class="dropdown-item" href="kaunokirjallisuus.html">Kaunokirjallisuus</a>
                    <a class="dropdown-item" href="tietokirjat.html">Tietokirjat</a>
                    <a class="dropdown-item" href="kauhukirjat.html">Kauhukirjat</a>
                    <a class="dropdown-item" href="lastenkirjat.html">Lastenkirjat</a>
                    <a class="dropdown-item" href="nuortenkirjat.html">Nuortenkirjat</a>
                    <a class="dropdown-item" href="englanninkieliset.html">Englanninkieliset kirjat</a>
                    <a class="dropdown-item" href="e-kirjat.html">E-kirjat</a>
                    <a class="dropdown-item" href="aanikirjat.html">√Ñ√§nikirjat</a>
                </div>
            </div>
            <div class="logo">
                <a href="index.html"><img src="kuvat/Tarinatupa_logo.png" alt="Tarinatuvan logo"></a>
                <span class="poppins">Tarinatupa</span>
            </div>
            <div class="search-bar kirjahaku">
                <form action="" id="searchForm" class="d-flex">
                    <input type="text" placeholder="Etsi kirjoja..." id="searchInput">
                    <input type="submit" class="filter-button" value="üîç">
                </form>
                <button class="suodattimet-button" data-toggle="collapse"
                    data-target="#suodattimet">Suodattimet</button>
            </div>
            <div class="actions">
                <select class="language-selector">
                    <option class="fi" value="fi">Suomi</option>
                    <option class="en" value="en">English</option>
                </select>
                <a href="ostoskori.html"><button class="blue-button cart-button">üõí</button></a>
                <a href="kirjaudu.html"><button class="blue-button login-button">Kirjaudu</button></a>
            </div>
        </nav>
        <div id="suodattimet" class="collapse">
            <div class="suodatinrivi">
                <form action="" id="genreform">
                    <label for="fantasia">
                        Fantasia
                        <input type="checkbox" id="fantasia" name="genre" value="fantasia" class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label for="kaunokirjallisuus">
                        Kaunokirjallisuus
                        <input type="checkbox" id="kaunokirjallisuus" name="genre" value="kauno"
                            class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label for="tietokirjallisuus">
                        Tietokirjallisuus
                        <input type="checkbox" id="tietokirjallisuus" name="genre" value="tieto"
                            class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label for="kauhu">
                        Kauhu
                        <input type="checkbox" id="kauhu" name="genre" value="kauhu" class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label for="lastenkirjat">
                        Lastenkirjat
                        <input type="checkbox" id="lastenkirjat" name="genre" value="lasten" class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label for="nuortenkirjat">
                        Nuortenkirjat
                        <input type="checkbox" id="nuortenkirjat" name="genre" value="nuorten" class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label for="englanninkieliset">
                        Englanninkielinen
                        <input type="checkbox" id="englanninkieliset" name="genre" value="english"
                            class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label for="e-kirjat">
                        E-kirjat
                        <input type="checkbox" id="e-kirjat" name="genre" value="ekirjat" class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                    <label for="aanikirjat">
                        √Ñ√§nikirjat
                        <input type="checkbox" id="aanikirjat" name="genre" value="aanikirjat" class="custom-checkbox">
                        <span class="checkmark"></span>
                    </label>
                </form>
            </div>
            <div class="suodatinrivi">
                <div class="slidercontainer">
                    <div id="minJaMax">
                        <p id="priceRange"></p>
                    </div>
                    <div id="hintaSlider" class="slider"></div>
                </div>
                <div>
                    <form action="" id="searchWriter">
                        <input type="text" placeholder="Etsi kirjailijaa..." id="kirjailijaInput">
                    </form>
                </div>
                <div class="slidercontainer">
                    <div id="vuosiMinJaMax">
                        <p id="vuosiRange"></p>
                    </div>
                    <div id="vuosiSlider" class="slider"></div>
                </div>
            </div>
        </div>
    </header>
    <div class="d-flex justify-content-center h1 mb-5" id="hakuotsikko"></div>
    <div class="kirjat container-fluid" id="results"></div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script><!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.js"></script>
    <br>
    <footer>
        <div class="footer-content">
            <p class="contact-info">
                üìß asiakaspalvelu@tarinatupa.fi | üìû 044 123 1234 | üìç Kotkantie 2, 90250 Oulu
            </p>
            <p class="opening-hours">
                Aukioloajat: Ma-Pe 9-18, La 10-16, Su suljettu
            </p>
            <p class="newsletter">
                <a href="#">Tilaa uutiskirjeemme</a>
            </p>
        </div>
        <div class="social-icons">
            <a href="#" target="_blank"><img src="icons/facebook.svg" alt="Facebook"></a>
            <a href="#" target="_blank"><img src="icons/x.svg" alt="X (Twitter)"></a>
            <a href="#" target="_blank"><img src="icons/youtube.svg" alt="YouTube"></a>
        </div>
    </footer>
    <script>
        const Books = [ // Laita genret t√§rkeysj√§rjestyksess√§. Muista p√§ivitt√§√§ my√∂s kirjahaku.html
            ["Sapiens - Ihmisen lyhyt historia", "SapiensIhmisenLyhytHistoria.webp", "tietokirjat/Sapiens-Ihmisen_lyhyt_historia.html", "Yuval Noah Harari", ["tieto"], 13.95, 2024],
            ["Let Them Theory", "TheLetThemTheory.webp", "tietokirjat/Let_Them_Theory.html", "Mel Robbins", ["tieto", "english"], 34.95, 2024],
            ["5 Types of Wealth: A Transformative Guide to Design Your Dream Life", "The5TypesOfWealth.webp", "tietokirjat/5_Types_Of_Wealth.html", "Sahil Bloom", ["tieto", "english"], 29.95, 2025],
            ["Kylm√§ Krematorio", "KylmaKrematorio.webp", "tietokirjat/Kylma_krematorio.html", "J√≥zsef Debreczeni", ["tieto"], 31.95, 2025],
            ["Sinun t√§htesi t√§√§ll√§", "SinunTahtesiTaalla.webp", "tietokirjat/Sinun_tahtesi_taalla.html", "Jenni Haukio", ["tieto"], 30.95, 2023],
            ["Sun Tzu's The Art of War", "SunTzu'sTheArtOfWar.avif", "tietokirjat/SunTzu'sTheArtOfWar.html", "Sun Tzu", ["tieto", "english"], 19.95, 2009],
            ["Murha! - 100 mysteeri√§ nojatuolietsiville", "Murha100Mysteeria.webp", "tietokirjat/Murha!-100_mysteeria_nojatuolietsiville.html", "G. T. Karber", ["tieto", "kauno"], 20.95, 2024],
            ["Taru Sormusten Herrasta", "TaruSormustenHerrasta.webp", "fantasiakirjat/Taru_Sormusten_Herrasta.html", "J. R. R. Tolkien", ["fantasia", "kauno"], 56.95, 2023],
            ["Winds Of Winter", "WindsOfWinter.webp", "uutuudet/The_winds_of_winter.html", "George R. R. Martin", ["fantasia", "kauno", "english"], 34.95, 2027],
            ["Ratkomme murhia", "RatkommeMurhia.PNG", "uutuudet/Ratkomme_murhia.html", "Richard Osman", ["nuorten", "kauno"], 31.95, 2025],
            ["Onyx Storm", "OnyxStorm.PNG", "uutuudet/Onyx_storm.html", "Rebecca Yarros", ["fantasia", "kauno", "english"], 19.95, 2025],
            ["Heikki Silvennoinen Nousut ja laskut", "HeikkiSilvennoinenNousutJaLaskut.PNG", "uutuudet/Heikki_Silvennoinen_Nousut_ja_laskut.html", "Tommi Saarela", ["tieto"], 30.95, 2024],
            ["Toivoa versovat p√§iv√§t", "ToivoaVersovatP√§iv√§t.PNG", "uutuudet/Toivoa_versovat_paivat.html", "Melissa Da Costa", ["kauno"], 31.95, 2025],
            ["El√§m√§n lyhyydest√§", "ElamanLyhyydesta.webp", "tietokirjat/Elaman_lyhyydesta.html", "Seneca", ["tieto"], 18.95, 2018],
            ["Kielip√§iv√§kirja", "kielip√§iv√§kirja.webp", "tietokirjat/Kielipaivakirja.html", "Mauri Kunnas", ["tieto"], 15.95, 2016],
            ["Laadullinen tutkimus ja sis√§ll√∂nanalyysi", "LaadullinenTutkimus.webp", "tietokirjat/Laadullinen_tutkimis_ja_sisallonanalyysi.html", "Jouni Tuomi / Anneli Saraj√§rvi", ["tieto"], 51.95, 2024],
            ["Vauva - omistajan opas", "VauvaOmistajanOpas.webp", "tietokirjat/Vauva-omistajan_opas.html", "Louis Borgenicht / Joe Borgenicht", ["tieto"], 13.95, 2020],
            ["Punainen verkko", "PunainenVerkko.PNG", "uutuudet/Punainen_verkko.html", "Aamos Honka", ["kauno"], 29.95, 2025],
            ["The JFK conspiracy", "TheJFKConspiracy.PNG", "uutuudet/The_JFK_conspiracy.html", "Brad Meltzer", ["tieto", "english"], 36.95, 2025],
            ["Sadan vuoden yksin√§isyys", "SadanVuodenYksin√§isyys.PNG", "uutuudet/Sadan_vuoden_yksinaisyys.html", "Gabriel Garcia Marquez", ["kauno"], 31.95, 2021],
            ["Pimeyden syd√§n", "PimeydenSyd√§n.PNG", "suosituimmat/Pimeyden_sydan.html", "Ilkka Remes", ["kauno"], 29.95, 2023],
            ["Suon villi laulu", "SuonVilliLaulu.PNG", "suosituimmat/Suon_villi_laulu.html", "Delia Owens", ["kauno"], 29.95, 2021],
            ["Sota ja rauha", "SotaJaRauha.PNG", "suosituimmat/Sota_ja_rauha.html", "Leo Tolstoi", ["kauno"], 33.95, 2025],
            ["And then there were none", "AndThenThereWereNone.PNG", "suosituimmat/And_then_there_were_none.html", "Agatha Christie", ["kauno", "english"], 24.95, 2019],
            ["Sinuhe egyptil√§inen", "SinuheEgyptil√§inen.PNG", "suosituimmat/Sinuhe_egyptilainen.html", "Mika Waltari", ["kauno"], 30.95, 2025],
            ["Tuntematon sotilas", "TuntematonSotilas.PNG", "suosituimmat/Tuntematon_sotilas.html", "V√§in√∂ Linna", ["kauno"], 30.95, 2019],
            ["Harry Potter ja viisasten kivi", "HarryPotterJaViisastenKivi.PNG", "suosituimmat/Harry_Potter_ja_viisasten_kivi.html", "J. K. Rowling", ["nuorten", "lasten", "kauno"], 25.95, 2000],
            ["T√§√§ll√§ Pohjant√§hden alla", "T√§√§ll√§Pohjant√§hdenAlla.PNG", "suosituimmat/Taalla_pohjantahden_alla.html", "V√§in√∂ Linna", ["kauno"], 28.95, 2018],
            ["The Lord of the Rings", "TheLordOfTheRings.PNG", "suosituimmat/The_lord_of_the_rings.html", "J. R. R. Tolkien", ["fantasia", "kauno", "english"], 33.95, 2005],
            ["Hohto", "Hohto.PNG", "suosituimmat/Hohto.html", "Stephen King", ["kauhu", "kauno"], 33.95, 2013],
            ["Edgar Allan Poe's Classic Tales of Horror", "EdgarAllanPoeClassicTalesOfHorror.webp", "kauhukirjat/EdgarAllanPoesClassicTalesOfHorror.html", "Edgar Allan Poe", ["kauhu", "kauno", "english"], 17.60, 2023],
            ["My√∂hemmin", "Myohemmin.webp", "kauhukirjat/Myohemmin.html", "Stephen King", ["kauhu", "kauno"], 12.95, 2023],
            ["Hoivakoti", "Hoivakoti.webp", "kauhukirjat/Hoivakoti.html", "Mats Strandberg", ["kauhu", "kauno"], 12.95, 2018],
            ["Frankenstein", "Frankenstein.webp", "kauhukirjat/Frankenstein.html", "Mary Shelley", ["kauhu", "kauno"], 14.95, 2024],
            ["Ne muut", "NeMuut.webp", "kauhukirjat/Ne_muut.html", "C. J. Tudor", ["kauhu", "kauno"], 28.95, 2021],
            ["Kuokkamummo", "Kuokkamummo.webp", "kauhukirjat/Kuokkamummo.html", "Marko Hautala", ["kauho", "kauno"], 12.95, 2023],
            ["Holly", "Holly.webp", "kauhukirjat/Holly.html", "Stephen King", ["kauho", "kauno"], 34.95, 2024],
            ["On Suurten Muinaisten aika", "OnSuurtenMuinastenAika.webp", "kauhukirjat/OnSuurtenMuinaistenAika.html", "Juri Nummelin", ["kauhu", "kauno"], 12.95, 2023],
            ["Dracula", "Dracula.webp", "kauhukirjat/Dracula.html", "Bram Stoker", ["kauhu", "kauno"], 14.95, 2010],
            ["Pime√§ll√§ puolella", "PimeallaPuolella.webp", "kauhukirjat/Pimealla_puolella.html", "Stephen King", ["kauhu", "kauno"], 33.95, 2025],
            ["H. P. Lovecraftin parhaat", "H.P.Lovecraft.webp", "kauhukirjat/H_P_Lovecraftin_parhaat.html", "H. P. Lovecraft", ["kauhu", "kauno"], 35.95, 2025],
            ["Gwendy", "Gwendy.webp", "kauhukirjat/Gwendy.html", "Stephen King", ["kauhu", "kauno"], 16.95, 2024],
            ["Atomic Habits", "AtomicHabits.webp", "englanninkieliset/Atomic_Habits.html", "James Clear", ["tieto", "english"], 27.95, 2018],
            ["Sunrise on the Reaping", "SunriseOnTheReaping.webp", "englanninkieliset/SunriseOnTheReaping.html", "Suzanne Collins", ["fantasia", "kauno", "english"], 23.95, 2025],
            ["The Picture of Dorian Gray", "PictureOfDorianGray.webp", "englanninkieliset/PictureOfDorianGray.html", "Oscar Wilde", ["kauno", "english"], 15.95, 2012],
            ["The Strawberry Patch Pancake House", "StrawberryPatchPancakeHouse.webp", "englanninkieliset/StrawberryPatchPancakeHouse.html", "Laurie Gilmore", ["kauno", "english"], 18.95, 2025],
            ["The Great Gatsby", "TheGreatGatsby.webp", "englanninkieliset/GreatGatsby.html", "F Scott Fitzgeral", ["kauno", "english"], 29.95, 2025],
            ["A Court of Wings and Ruin", "CourtOfWingsAndRuin.webp", "fantasiakirjat/A_Cuort_of_Wings_and_Ruin", "Sarah J. Maas", ["fantasia", "kauno", "english"], 18.95, 2020],
            ["Luvattu maa", "LuvattuMaaObama.jpg", "tietokirjat/Luvattu_maa.html", "Barack Obama", ["tieto"], 15.95, 2022],
            ["Myrksynsilm√§", "MyrskynSilma.webp", "fantasiakirjat/Myrskynsilma.html", "Rebecca Yarros", ["fantasia", "kauno"], 29.95, 2025],
            ["Kohtalon miekka - The Witcher - Noituri 2", "WitcherKohtalonMiekka.webp", "fantasiakirjat/Kohtalon_miekka.html", "Andrzej Sapkowski", ["fantasia", "kauno"], 25.95, 2020],
            ["Rautaliekki", "RautaLiekki.webp", "fantasiakirjat/Rautaliekki.html", "Rebecca Yarros", ["fantasia", "kauno"], 29.95, 2024],
            ["On Wings of Blood", "81mnU-2VyYL._SY522_.jpg", "fantasiakirjat/OnWingsOfBlood.html", "Briar Boleyn", ["fantasia", "kauno", "english"], 29.95, 2024],
            ["Liekkien valtakunta", "LiekkienValtakunta.webp", "fantasiakirjat/Liekkien_valtakunta.html", "Jennifer L. Armentrout", ["fantasia", "kauno"], 22.95, 2025],
            ["Kahden veren tyt√§r", "KahdenVerenTyt√§r.webp", "fantasiakirjat/Kahden_veren_tytar.html", "S K Rostedt", ["fantasia", "kauno"], 29.95, 2024],
            ["Raivoisa laiva", "RaivoisaLaiva.webp", "fantasiakirjat/Raivoisa_Laiva.html", "Robin Hobb", ["fantasia", "kauno"], 35.95, 2025],
            ["N√§lk√§peli: Balladi laululinnuista ja k√§√§rmeist√§", "NalkapeliBalladiLaululinnustaJaKaarmeista.webp", "fantasiakirjat/Balladi_laululinnusta_ja_kaarmeesta.html", "Suzanne Collins", ["fantasia", "kauno"], 22.95, 2025],
            ["Tatu ja Patu Helsingiss√§", "TatuJaPatuHelsingiss√§.jpg", "lastenkirjat/TatuJaPatuHelsingissa.html", "Aino Havukainen; Sami Toivonen", ["lasten"], 14.95, 2012],
            ["Rambon talli: Kultaharjan salaisuus ", "rambon-talli-kultaharjan-salaisuus.webp", "lastenkirjat/RambonTalliKultaharjanSalaisuus.html", "Venny Hel√©n", ["lasten"], 22.95, 2025],
            ["Tatu ja Patu kes√§leirill√§", "TatuJaPatuKesaleirilla.webp", "lastenkirjat/TatuJaPatuKesaleirilla.html", "Aino Havukainen; Sami Toivonen", ["lasten"], 20.95, 2021],
            ["Paqpan maailma. V√§rit√§ j√§nn√§t reissut!", "PaqpanMaailma.webp", "lastenkirjat/PaqpanMaailma.html", "Beata (Paqpa) Rodas", ["lasten", "nuorten"], 19.95, 2025],
            ["Pikku Prinssi", "PikkuPrinssi.webp", "lastenkirjat/PikkuPrinssi.html", "Antoine de Saint-Exup√©ry", ["lasten"], 13.95, 1997],
            ["Tatun ja Patun p√§ivitetty Suomi", "TatunJaPatunP√§ivitettySuomi.webp", "lastenkirjat/TatunJaPatunPaivitettySuomi.html", "Aino Havukainen; Sami Toivonen", ["lasten"], 19.95, 2025],
            ["Rambon talli: Kadonneiden hevosten mysteeri", "RambonTalliKadonneidenHevostenMysteeri.webp", "lastenkirjat/RambonTalliKadonneidenHevostenMysteeri.html", "Venny Hel√©n", ["lasten"], 22.95, 2024],
            ["Suomen lasten iltasadut", "SuomenLastenIltasadut.webp", "lastenkirjat/SuomenLastenIltasadut.html", "Emmi Jormalainen", ["lasten"], 20.95, 2023],
            ["Soiva laulukirja", "SoivaLaulukirja.webp", "lastenkirjat/SoivaLaulukirja.html", "Soili Perki√∂", ["lasten"], 27.95, 2013],
            ["Minecraft: Kartanon oliot (helppolukuinen)", "MinecraftKartanonOliot.webp", "lastenkirjat/MinecraftKartanonOliot.html", "Nick Eliopulos", ["lasten"], 11.95, 2025],
            ["Sudenpentujen k√§sikirja", "SudenpentujenKasikirja.webp", "lastenkirjat/SudenpentujenKasikirja.html", "Disney", ["lasten"], 18.95, 2020],
            ["Vitsipitsa ‚Äì t√§ytteen√§ Tinke ja Nedde", "VitsipitsaTaytteenaTinkeJaNedde.webp", "lastenkirjat/VitsipitsaTaytteenaTinkeJaNedde.html", "Juhana Salakari", ["lasten"], 21.95, 2025],
            ["Kadonnut perint√∂", "KadonnutPerinto.webp", "kaunokirjallisuus/Kadonnut_perinto.html", "Virpi H√§meen-Anttila", ["kauno"], 31.95, 2025],
            ["Tex Willer Kirjasto 79: Pid√§tt√§k√§√§ Tex Willer!", "PidattakaaTexWiller.webp", "kaunokirjallisuus/Pidattakaa_Tex_Willer.html", "Gianluig Bonelli", ["kauno"], 26.95, 2025],
            ["Hobitti", "Hobitti.webp", "nuortenkirjat/Hobitti.html", "J. R. R. Tolkien", ["nuorten", "lasten", "kauno"], 26.95, 2020],
            ["Skutsi", "Skutsi.webp", "nuortenkirjat/Skutsi.html", "P√§ivi Lukkarila", ["nuorten", "lasten", "kauno"], 26.95, 2024],
            ["The Inheritance Games: Viimeinen siirto", "InheritanceGamesViimeinenSiirto.webp", "nuortenkirjat/InheritanceGamesViimeinenSiirto.html", "Jennifer Lynn Barnes", ["nuorten"], 26.95, 2025],
            ["Kuudes kuolee", "KuudesKuolee.webp", "nuortenkirjat/Kuudes_kuolee.html", "Holly Jackson", ["nuorten", "kauno"], 29.95, 2025],
            ["Meren koskettamat", "MerenKoskettamat.webp", "nuortenkirjat/Meren_koskettamat.html", "Leena Paasio", ["nuorten", "kauno"], 25.95, 2024],
            ["Percy Jackson ‚Äì Kolmoisjumalattaren raivo", "PercyJacksonKolmoisjumalattarenRaivo.webp", "nuortenkirjat/PercyJacksonKolmoisjumalattarenRaivo.html", "Rick Riordan", ["nuorten"], 28.95],
            ["Taivaansinisen meren tuolla puolen", "TaivaansinisenMerenTuollaPuolen.webp", "nuortenkirjat/Taivaansinisen_meren_tuolla_puolen.html", "TJ Klune", ["nuorten", "kauno"], 31.95, 2025],
            ["Unohdettujen kirja", "UnohdettujenKirja.webp", "nuortenkirjat/Unohdettujen_kirja.html", "Anne-Maija Aalto", ["nuorten", "kauno"], 30.95, 2024],
            ["One Piece 104", "OnePiece104.webp", "nuortenkirjat/One_Piece_104.html", "Eiichiro Oda", ["nuorten"], 10.95, 2025],
            ["Kvanttikilpajuoksu", "Kvanttikilpajuoksu.webp", "e-kirjat/Kvanttikilpajuoksu.html", "Tommi Tenkanen", ["ekirjat", "tieto"], 15.95, 2025],
            ["Jumalan synty - Is√§n ja Pojan k√§tketty historia", "JumalanSynty.webp", "e-kirjat/Jumalan_synty.html", "Ville M√§kipelto / Juha Pakkala / Raimo Hakola", ["ekirjat", "tieto"], 19.95, 2025],
            ["Vaikene kuin muuri", "VaikeneKuinMuuri.webp", "e-kirjat/Vaikene_kuin_muuri.html", "Maria Adolfsson", ["ekirjat", "kauno"], 14.95, 2025],
            ["Ctrl+Alt+Kaaos", "Ctrl+Alt+Kaaos.webp", "e-kirjat/Ctrl+Alt+Kaaos.html", "Joe Tidy", ["ekirjat", "tieto"], 21.95, 2025],
            ["Haltiain verta - The Witcher - Noituri 3", "HaltianVerta.webp", "e-kirjat/HaltianVerta.html", "Andrzej Sapkowski", ["ekirjat", "fantasia", "kauno"], 10.95, 2015],
            ["Jakob", "Jakob.webp", "e-kirjat/Jakob.html", "Satu R√§m√∂", ["ekirjat", "kauno"], 14.95, 2023],
            ["Myrskynsilm√§", "MyrskynSilma.webp", "e-kirjat/Myrskynsilma.html", "Rebecca Yarros", ["ekirjat", "fantasia", "kauno"], 14.95, 2025],
            ["Erikoisjoukoissa ‚Äì Janne Lehtosen tarina", "Erikoisjoukoissa‚ÄìJanneLehtosenTarina.webp", "e-kirjat/Erikoisjoukoissa-JanneLehtosenTarina.html", "Kati Pukki / Janne Lehtonen", ["ekirjat", "tieto"], 14.95, 2025],
            ["Kadonnut perint√∂", "KadonnutPerinto.webp", "e-kirjat/Kadonnut_perinto.html", "Virpi H√§meen-Anttila", ["ekirjat", "kauno"], 19.95, 2025],
            ["Lehm√§ synnytt√§√§ y√∂ll√§", "LehmaSynnyttaaYolla.webp", "e-kirjat/Lehma_synnyttaa_yolla.html", "Pajtim Statovci", ["ekirjat", "kauno"], 15.95, 2024],
            ["Viikinkien valtakunta", "ViikinkienValtakunta.webp", "e-kirjat/Viikinkien_valtakunta.html", "Tonny Gull√∏v", ["ekirjat", "kauno"], 14.95, 2025],
            ["Zeus", "Zeus.webp", "e-kirjat/Zeus.html", "Ilkka Remes", ["ekirjat", "kauno"], 14.95, 2024],
            ["Rakel", "Rakel.webp", "aanikirjat/Rakel.html", "Satu R√§m√∂", ["aanikirjat", "kauno"], 15.95, 2024],
            ["Sinuhe egyptil√§inen osa 1", "SinuheEgyptilainenAanikirja.webp", "aanikirjat/Sinuhe_egyptilainen_osa_1.html", "Mika Waltari", ["aanikirjat", "kauno"], 13.95, 2010],
            ["Nexus - Tietoverkkojen lyhyt historia", "Nexus.webp", "aanikirjat/Nexus.html", "Yuval Noah Harari", ["aanikirjat", "tieto"], 20.95, 2024],
            ["Helmeilev√§ kuolema", "Helmeilev√§Kuolema.webp", "aanikirjat/HelmeilevaKuolema.html", "Agatha Christie", ["aanikirjat", "kauno"], 15.95, 2025],
            ["Heikki Silvennoinen Nousut ja laskut", "HeikkiSilvennoinenAanikirja.webp", "aanikirjat/HeikkiSilvennoinenNousutJaLaskut.html", "Tommi Saarela", ["aanikirjat", "tieto"], 15.95, 2024],
            ["Laukku-Leena", "Laukku-Leena.webp", "aanikirjat/Laukku-Leena.html", "P√§ivi Ketolainen", ["aanikirjat", "tieto"], 15.95, 2025],
            ["Taru Sormusten herrasta: Sormuksen ritarit", "TaruSormustenHerrastaSormuksenRitarit.webp", "aanikirjat/TaruSormustenHerrastaSormuksenRitarit.html", "J. R. R. Tolkien", ["aanikirjat", "kauno"], 16.95, 2020],
            ["Merkitty", "Merkitty.webp", "aanikirjat/Merkitty.html", "Max Seeck", ["aanikirjat", "kauno"], 15.95, 2024],
            ["10 askelta mielen mestaruuteen", "10AskeltaMielenMestaruuteen.webp", "aanikirjat/10askelta_mielen_mestaruuteen.html", "Harri Gustafsberg", ["aanikirjat", "tieto"], 16.95, 2024],
            ["Kiehtova katala Ven√§j√§ Arja Paanasen silmin", "KiehtovaKatalaVenajaArjaPaanasenSilmin.webp", "aanikirjat/Kiehtova_katala_Venaja_Arja_Paanasen_silmin.html", "Anu Kuistiala / Arja Paananen", ["aanikirjat", "tieto"], 19.95],
            ["Rafael", "Rafael.webp", "aanikirjat/Rafael.html", "Christian R√∂nnbacka", ["aanikirjat", "kauno"], 20.95, 2024],
            ["Unissak√§velij√§", "Unissakavelija.webp", "aanikirjat/Unissakavelija.html", "Lars Kepler", ["aanikirjat", "kauno"], 15.95, 2024]
        ]
        console.log(Books[0][5])
        const urlParams = new URLSearchParams(window.location.search);
        const kokoQuery = urlParams.get('q')?.toLowerCase();
        const match = kokoQuery.match(/^(.*?)_(.*?)‚Äì(.*?)_(.*?)‚Äì(.*?)_(.*?)_(.*)$/);
        const genre = match[1].split(/-/); genre.pop();
        const min = match[2]
        const max = match[3]
        const vuosiMinimi = match[4]
        const vuosiMaximi = match[5]
        const kirjailija = match[6]
        const query = match[7]
        console.log(genre)
        console.log(min, max)
        console.log(vuosiMinimi, vuosiMaximi)
        console.log(kirjailija)
        console.log(query)
        console.log(match)

        let resultsDiv = document.getElementById('results');
        const otsikkoDiv = document.getElementById('hakuotsikko');
        let kirjojenMaara = 0
        let rivienMaara = 0
        let uusinPuoliRivi;
        let toinenPuoliRivi;
        let uusinRivi;
        let uusinKirja;
        if (kokoQuery) {
            let filteredBooks0 = Books
            if (kirjailija !== "") {
                filteredBooks0 = filteredBooks0.filter(book => book[3].toLocaleLowerCase().replace(/[-_\.]/g, "").includes(kirjailija))
            }
            if (genre[0] != "") {
                for (i = 0; i < genre.length; i++) {
                    filteredBooks0 = filteredBooks0.filter(book => book[4].includes(genre[i]))
                }
            }
            filteredBooks0 = filteredBooks0.filter(book => {
                if (book[5] >= min && book[5] <= max) {
                    return true;
                } else return false
            })
            filteredBooks0 = filteredBooks0.filter(book => {
                if (book[6] >= vuosiMinimi && book[6] <= vuosiMaximi) {
                    return true;
                } else return false
            })
            //console.log(filteredBooks0)
            const filteredBooks1 = filteredBooks0.filter(book => book[0].toLowerCase().includes(query));
            if (filteredBooks1.length > 0) {
                otsikkoDiv.textContent = 'Hakutulokset haulle "' + query + '"'
                const filteredBooks2 = filteredBooks1.filter(book => book[0].toLowerCase().startsWith(query))
                if (filteredBooks2.length > 0) {
                    KirjojenLuonti(filteredBooks2)
                }
                const filteredBooks3 = filteredBooks1.filter(book => !filteredBooks2.includes(book))
                if (filteredBooks3.length > 0) {
                    KirjojenLuonti(filteredBooks3)
                }
            } else {
                otsikkoDiv.textContent = 'Ei l√∂ytynyt kirjoja haullasi';
                console.log(filteredBooks0)
            }
        } else {
            otsikkoDiv.textContent = 'Et antanut hakusanaa.';
        }
        let riviVika;
        let tokapuoliVika;
        function KirjojenLuonti(FilteredBooks) {
            FilteredBooks.forEach(book => {
                kirjojenMaara++;
                if (rivienMaara < kirjojenMaara / 6) {
                    const rivi = document.createElement('div')
                    const puolirivi = document.createElement('div')
                    rivi.classList.add("row", "kirjarow", "mb-5")
                    puolirivi.classList.add("col-lg", "row", "puolirivia")
                    resultsDiv.appendChild(rivi)
                    rivi.appendChild(puolirivi)
                    uusinRivi = rivi
                    uusinPuoliRivi = puolirivi
                    const tokapuolirivi = document.createElement('div')
                    tokapuolirivi.classList.add("col-lg", "row", "puolirivia")
                    toinenPuoliRivi = tokapuolirivi
                    rivi.appendChild(tokapuolirivi)
                    rivienMaara++;
                } else if (kirjojenMaara % 3 == 1) {
                    uusinPuoliRivi = toinenPuoliRivi
                }
                const div = document.createElement('div');
                div.classList.add("col-lg", "kirja", "border")
                uusinPuoliRivi.appendChild(div);
                const linkki = document.createElement('a')
                const kansi = document.createElement('img')
                const kirjanNimi = document.createElement('p')
                const kirjailijanNimi = document.createElement('p')
                linkki.setAttribute('href', book[2])
                div.appendChild(linkki)
                kansi.setAttribute("src", 'kuvat/' + book[1])
                kansi.setAttribute("class", "mx-auto d-flex")
                linkki.appendChild(kansi)
                kirjanNimi.textContent = book[0]
                kirjanNimi.setAttribute("class", "poppins-bold")
                div.appendChild(kirjanNimi)
                kirjailijanNimi.textContent = book[3]
                div.appendChild(kirjailijanNimi)
            })
        }
    </script>
    <script src="javascript/sliders.js"></script>
    <script defer>
        document.getElementById("searchForm").addEventListener('submit', function (e) {
            e.preventDefault();
            Lahetys()
        });
        document.getElementById("searchWriter").addEventListener('submit', function (e) {
            e.preventDefault();
            Lahetys()
        });
        function Lahetys() {
            let genre = "null"
            let hintaRange = `${hintaMin}‚Äì${hintaMax}`
            if (document.querySelector('input[name="genre"]:checked')) {
                genre = document.querySelector('input[name="genre"]:checked').value
            }
            const julkaisuvuosi = `${vuosiMin}‚Äì${vuosiMax}`
            const query = document.getElementById('searchInput').value.trim();
            const writerQuery = document.getElementById('kirjailijaInput').value.replace(/[-_\.]/g, "");
            window.location.href = 'kirjahaku.html?q=' + encodeURIComponent(genre) + encodeURIComponent("_") + encodeURIComponent(hintaRange) + encodeURIComponent("_") + encodeURIComponent(julkaisuvuosi) + encodeURIComponent("_") + encodeURIComponent(writerQuery) + encodeURIComponent("_") + encodeURIComponent(query);
        }
    </script>
    <script defer>
        const body = document.querySelector("body");
        const html = document.querySelector("html");
        const langSelect = document.querySelector(".language-selector")
        const suodattimetButton = document.querySelector(".suodattimet-button")
        const genreButton = document.querySelector(".genre-button")
        const genreOptions = document.querySelectorAll(".genre-dropdown .dropdown-item")
        const genreSuodatin = document.querySelectorAll("#suodattimet label")
        const kirjailijaSearchBar = document.querySelector("#kirjailijaInput")
        const loginButton = document.querySelector(".login-button")
        const searchBar = document.querySelector(".kirjahaku input")
        const openingHours = document.querySelector(".opening-hours")
        const newsletter = document.querySelector(".newsletter a")

        const genreOptionsFi = ["Fantasiakirjat", "Kaunokirjallisuus", "Tietokirjat", "Kauhukirjat", "Lastenkirjat", "Nuortenkirjat", "Englanninkieliset kirjat", "E-kirjat", "√Ñ√§nikirjat"]
        const genreOptionsEn = ["Fantasy books", "Fiction", "Non-fiction", "Horror books", "Children's books", "Young adult books", "English books", "E-books", "Audiobooks"]
        const genreSuodatinFi = ["Fantasia", "Kaunokirjallisuus", "Tietokirjallisuus", "Kauhu", "Lastenkirjat", "Nuortenkirjat", "Englanninkielinen", "E-kirjat", "√Ñ√§nikirjat"]
        const genreSuodatinEn = ["Fantasy", "Fiction", "Non-fiction", "Horror", "For children", "For young adults", "English books", "E-books", "Audiobooks"]


        langSelect.addEventListener("change", () => {
            if (html.getAttribute("lang") == "fi") {
                body.setAttribute("lang", "en");
                html.setAttribute("lang", "en");
                genreButton.textContent = "Genres"
                loginButton.textContent = "Login"
                suodattimetButton.textContent = "Filters"
                searchBar.setAttribute("placeholder", "Search books...")
                kirjailijaSearchBar.setAttribute("placeholder", "Search a writer...")
                openingHours.textContent = "Opening hours: Mon-Fri 9-18, Sat 10-16, Sun closed"
                newsletter.textContent = "Subscribe to our newsletter"
                genreOptions.forEach((link, index) => link.textContent = genreOptionsEn[index]);
                genreSuodatin.forEach((label, index) => {
                    const textNode = Array.from(label.childNodes).find(node => node.nodeType === Node.TEXT_NODE);
                    if (textNode) textNode.nodeValue = genreSuodatinEn[index];
                });
                otsikkoDiv.textContent = 'Search results for "' + query + '"'
                kieli = 1
                priceRange.textContent = `${labelTekstit[kieli][0]}: ${hintaMin}‚Äì${hintaMax} ‚Ç¨`;
                vuosiRange.textContent = `${labelTekstit[kieli][1]}: ${vuosiMin}‚Äì${vuosiMax}`;
                console.log("english");
            } else {
                body.setAttribute("lang", "fi");
                html.setAttribute("lang", "fi");
                genreButton.textContent = "Genret"
                loginButton.textContent = "Kirjaudu"
                suodattimetButton.textContent = "Suodattimet"
                searchBar.setAttribute("placeholder", "Etsi kirjoja...")
                kirjailijaSearchBar.setAttribute("placeholder", "Etsi kirjailijaa...")
                openingHours.textContent = "Aukioloajat: Ma-Pe 9-18, La 10-16, Su suljettu"
                newsletter.textContent = "Tilaa uutiskirjeemme"
                genreOptions.forEach((link, index) => link.textContent = genreOptionsFi[index]);
                genreSuodatin.forEach((label, index) => {
                    const textNode = Array.from(label.childNodes).find(node => node.nodeType === Node.TEXT_NODE);
                    if (textNode) textNode.nodeValue = genreSuodatinFi[index];
                });
                otsikkoDiv.textContent = 'Hakutulokset haulle "' + query + '"'
                kieli = 0
                priceRange.textContent = `${labelTekstit[kieli][0]}: ${hintaMin}‚Äì${hintaMax} ‚Ç¨`;
                vuosiRange.textContent = `${labelTekstit[kieli][1]}: ${vuosiMin}‚Äì${vuosiMax}`;
                console.log("finnish");
            }
        });
    </script>
</body>

</html>