<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap-4.6.2-dist/css/bootstrap.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.css">
    <script defer src="javascript/suodattimet.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com"> <!--Poppins ja Open Sans Fontit-->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" type="image/x-icon" href="icons/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <title>Tietokirjat - Tarinatupa</title>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script><!-- jQuery library -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script><!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/nouislider@15.7.0/dist/nouislider.min.js"></script>
<header>
    <nav class="navbar">
        <div class="dropdown">
            <button class="genre-button btn dropdown" data-toggle="dropdown">Genret</button>
            <div class="dropdown-menu poppins genre-dropdown">
                <a class="dropdown-item" href="fantasiakirjat.html">Fantasiakirjat</a>
                <a class="dropdown-item" href="kaunokirjallisuus.html">Kaunokirjallisuus</a>
                <a class="dropdown-item" href="tietokirjat.html">Tietokirjat</a>
                <a class="dropdown-item" href="kauhukirjat.html">Kauhukirjat</a>
                <a class="dropdown-item" href="lastenkirjat.html">Lastenkirjat</a>
                <a class="dropdown-item" href="nuortenkirjat.html">Nuortenkirjat</a>
                <a class="dropdown-item" href="englanninkieliset.html">Englanninkieliset kirjat</a>
                <a class="dropdown-item" href="e-kirjat.html">E-kirjat</a>
                <a class="dropdown-item" href="aanikirjat.html">√Ñ√§nikirjat</a>
            </div>
        </div>
        <div class="logo">
            <a href="index.html"><img src="kuvat/Tarinatupa_logo.png" alt="Tarinatuvan logo"></a>
            <span class="poppins">Tarinatupa</span>
        </div>
        <div class="search-bar kirjahaku">
            <form action="" id="searchForm" class="d-flex">
                <input type="text" placeholder="Etsi kirjoja..." id="searchInput">
                <input type="submit" class="filter-button" value="üîç">
            </form>
            <button class="suodattimet-button" data-toggle="collapse"
                data-target="#suodattimet">Suodattimet</button>
        </div>
        <div class="actions">
            <select class="language-selector">
                <option class="fi" value="fi">Suomi</option>
                <option class="en" value="en">English</option>
            </select>
            <a href="ostoskori.html"><button class="blue-button cart-button">üõí</button></a>
            <a href="kirjaudu.html"><button class="blue-button login-button">Kirjaudu</button></a>
        </div>
    </nav>
    <div id="suodattimet" class="collapse">
        <div class="suodatinrivi">
            <form action="" id="genreform">
                <input type="radio" id="fantasia" name="genre" value="fantasia">
                <label for="fantasia">Fantasia</label>
                <input type="radio" id="kaunokirjallisuus" name="genre" value="kauno">
                <label for="kaunokirjallisuus">Kaunokirjallisuus</label>
                <input type="radio" id="tietokirjallisuus" name="genre" value="tieto">
                <label for="tietokirjallisuus">Tietokirjallisuus</label>
                <input type="radio" id="kauhu" name="genre" value="kauhu">
                <label for="kauhu">Kauhu</label>
                <input type="radio" id="lastenkirjat" name="genre" value="lasten">
                <label for="lastenkirjat">Lastenkirjat</label>
                <input type="radio" id="nuortenkirjat" name="genre" value="nuorten">
                <label for="nuortenkirjat">Nuortenkirjat</label>
                <input type="radio" id="englanninkieliset" name="genre" value="english">
                <label for="englanninkieliset">Englanninkielinen</label>
                <input type="radio" id="e-kirjat" name="genre" value="e-kirjat">
                <label for="e-kirjat">E-kirjat</label>
                <input type="radio" id="aanikirjat" name="genre" value="aanikirjat">
                <label for="aanikirjat">√Ñ√§nikirjat</label>
            </form>
        </div>
        <div class="suodatinrivi">
            <div class="slidercontainer">
                <div id="minJaMax">
                    <p id="priceRange"></p>
                </div>
                <div id="hintaSlider" class="slider"></div>
            </div>
            <div>
                <form action="" id="searchWriter">
                    <input type="text" placeholder="Etsi kirjailijaa..." id="kirjailijaInput">
                </form>
            </div>
                <div class="slidercontainer">
                    <div id="vuosiMinJaMax">
                        <p id="vuosiRange"></p>
                    </div>
                    <div id="vuosiSlider" class="slider"></div>
                </div>
        </div>
    </div>
</header>
    <!--<div class="h1 mx-auto my-3" style="width: 10px;">Tietokirjat</div>-->
    <div class="d-flex justify-content-center h1 mb-5">Tietokirjat</div>
    <div class="kirjat container-fluid">
        <div class="row kirjarow mb-5">
            <div class="col-lg row puolirivia">
            <div class="col-lg kirja border">
                <a href="tietokirjat/Sapiens-Ihmisen_lyhyt_historia.html"><img src="kuvat/SapiensIhmisenLyhytHistoria.webp" alt="Sapiens - Ihmisen lyhyt historia - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Sapiens - Ihmisen lyhyt historia</p>
                <p>Yuval Noah Harari</p>
            </div>
            <div class="col-lg kirja border">
                <a href="tietokirjat/Let_Them_Theory.html"><img src="kuvat/TheLetThemTheory.webp" alt="Let Them Theory - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Let Them Theory</p>
                <p>Mel Robbins</p>
            </div>
            <div class="col-lg kirja border">
                <a href="tietokirjat/Kylma_krematorio.html"><img src="kuvat/KylmaKrematorio.webp" alt="Kylm√§ Krematorio - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Kylm√§ Krematorio</p>
                <p>J√≥zsef Debreczeni</p>
            </div>
            </div>
            <div class="col-lg row puolirivia">
            <div class="col-lg kirja border">
                <a href="tietokirjat/5_Types_Of_Wealth.html"><img src="kuvat/The5TypesOfWealth.webp" alt="5 Types of Wealth - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">5 Types of Wealth: A Transformative Guide to Design Your Dream Life</p>
                <p>Sahil Bloom</p>
            </div>
            <div class="col-lg kirja border">
                <a href="tietokirjat/SunTzu'sTheArtOfWar.html"><img src="kuvat/SunTzu'sTheArtOfWar.avif" alt="Sun Tzu's The Art of War - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Sun Tzu's The Art of War</p>
                <p>Sun Tzu</p>
            </div>
            <div class="col-lg kirja border">
                <a href="tietokirjat/Sinun_tahtesi_taalla.html"><img src="kuvat/SinunTahtesiTaalla.webp" alt="Sinun t√§htesi t√§√§ll√§ - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Sinun t√§htesi t√§√§ll√§</p>
                <p>Jenni Haukio</p>
            </div>
            </div>
        </div>
        <div class="row kirjarow">
            <div class="col-lg row puolirivia">
            <div class="col-lg kirja border">
                <a href=""><img src="kuvat/Murha100Mysteeria.webp" alt="Murha! - 100 mysteeri√§ nojatuolietsiville - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Murha! - 100 mysteeri√§ nojatuolietsiville</p>
                <p>G. T. Karber</p>
            </div>
            <div class="col-lg kirja border">
                <a href=""><img src="kuvat/LuvattuMaaObama.jpg" alt="Luvattu maa - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Luvattu maa</p>
                <p>Barack Obama</p>
            </div>
            <div class="col-lg kirja border">
                <a href=""><img src="kuvat/ElamanLyhyydesta.webp" alt="El√§m√§n lyhyydest√§ - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">El√§m√§n lyhyydest√§</p>
                <p>Seneca</p>
            </div>
            </div>
            <div class="col-lg row puolirivia">
            <div class="col-lg kirja border">
                <a href=""><img src="kuvat/kielip√§iv√§kirja.webp" alt="ielip√§iv√§kirja - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Kielip√§iv√§kirja</p>
                <p>Mauri Kunnas</p>
            </div>
            <div class="col-lg kirja border">
                <a href=""><img src="kuvat/LaadullinenTutkimus.webp" alt="Laadullinen tutkimus ja sis√§ll√∂nanalyysi - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Laadullinen tutkimus ja sis√§ll√∂nanalyysi</p>
                <p>Jouni Tuomi / Anneli Saraj√§rvi</p>
            </div>
            <div class="col-lg kirja border">
                <a href=""><img src="kuvat/VauvaOmistajanOpas.webp" alt="Vauva - omistajan opas - kirjan kansi" class="mx-auto d-flex"></a>
                <p class="poppins-bold">Vauva - omistajan opas</p>
                <p>Louis Borgenicht / Joe Borgenicht</p>
            </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="footer-content">
            <p class="contact-info">
                üìß asiakaspalvelu@tarinatupa.fi | üìû 044 123 1234 | üìç Kotkantie 2, 90250 Oulu
            </p>
            <p class="opening-hours">
                Aukioloajat: Ma-Pe 9-18, La 10-16, Su suljettu
            </p>
            <p class="newsletter">
                <a href="#">Tilaa uutiskirjeemme</a>
            </p>
        </div>
        <div class="social-icons">
            <a href="#" target="_blank"><img src="icons/facebook.svg" alt="Facebook"></a>
            <a href="#" target="_blank"><img src="icons/x.svg" alt="X (Twitter)"></a>
            <a href="#" target="_blank"><img src="icons/youtube.svg" alt="YouTube"></a>
        </div>
    </footer>
    <script>
        const slider = document.querySelector('#hintaSlider');
        const slider2 = document.querySelector('#vuosiSlider');
        const priceRange = document.querySelector('#priceRange');
        const vuosiRange = document.querySelector('#vuosiRange')
        let hintaMin = 0
        let hintaMax = 60
        let vuosiMinimi = 1900
        let vuosiMaximi = 2025
        noUiSlider.create(slider, {
            start: [0, 60],
            connect: true,
            range: {
                'min': 0,
                'max': 60
            },
            step: 1,
            format: {
                to: value => Math.round(value),
                from: value => Number(value)
            }
        });
        noUiSlider.create(slider2, {
            start: [1900, 2025],
            connect: true,
            range: {
                'min': 1900,
                'max': 2025
            },
            step: 2,
            format: {
                to: value => Math.round(value),
                from: value => Number(value)
            }
        });

        // Reagoi arvon muutokseen
        slider.noUiSlider.on('update', function (values) {
            hintaMinimi = parseInt(values[0]);
            vuosiMaximi = parseInt(values[1]);
            priceRange.textContent = `Hinta: ${hintaMin}‚Äì${hintaMax} ‚Ç¨`;
        });
        slider2.noUiSlider.on('update', function (values) {
            vuosiMinimi = parseInt(values[0]);
            vuosiMaximi = parseInt(values[1]);
            vuosiRange.textContent = `Vuosiv√§li: ${vuosiMinimi}‚Äì${vuosiMaximi}`;
        });
    </script>
    <script defer>
        document.getElementById("searchForm").addEventListener('submit', function (e) {
            e.preventDefault();
            Lahetys()
        });
        document.getElementById("searchWriter").addEventListener('submit', function (e) {
            e.preventDefault();
            Lahetys()
        });
        function Lahetys() {
            //e.preventDefault(); // Estet√§√§n lomakkeen normaali l√§hetys
            let genre = "null"
            let hintaRange = `${hintaMin}‚Äì${hintaMax}`
            if (document.querySelector('input[name="genre"]:checked')) {
                genre = document.querySelector('input[name="genre"]:checked').value
            }
            //const julkaisuvuosi = document.querySelector('select[name="year"]').value
            const julkaisuvuosi = `${vuosiMinimi}‚Äì${vuosiMax}`
            const query = document.getElementById('searchInput').value.trim();
            const writerQuery = document.getElementById('kirjailijaInput').value.replace(/[-_\.]/g, "");
            //if (query) {
            window.location.href = 'kirjahaku.html?q=' + encodeURIComponent(genre) + encodeURIComponent("_") + encodeURIComponent(hintaRange) + encodeURIComponent("_") + encodeURIComponent(julkaisuvuosi) + encodeURIComponent("_") + encodeURIComponent(writerQuery) + encodeURIComponent("_") + encodeURIComponent(query);
            //}
        }
    </script>
</body>
</html>